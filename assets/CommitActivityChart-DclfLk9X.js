import{j as e,T as g}from"./index-B6iDsk0V.js";import{L as v}from"./index-CNksdnMW.js";function y({data:a,createdAt:i}){console.log("CommitActivityChart renderizado"),console.log("Data recebida:",a),console.log("createdAt recebida:",i);let s=52;if(i)try{const t=new Date(i),c=new Date;if(!isNaN(t.getTime())){const o=c-t;s=Math.ceil(o/(1e3*60*60*24*7)),console.log("Idade exata em semanas:",s,"createdAt:",i)}}catch(t){console.warn("Error calculating project age:",t),s=52}let d=a;if(a&&a.datasets&&a.datasets[0]&&a.datasets[0].data){const t=a.datasets[0].data,c=Math.min(s+4,52);let o=Math.min(t.length,c);const h=t.findIndex(n=>n>0);let r=0;h!==-1?(r=Math.max(0,h-2),o=Math.min(t.length-r,o)):s<52&&(r=Math.max(0,t.length-o));const m=t.slice(r,r+o),x=[];for(let n=m.length-1;n>=0;n--){const l=new Date;l.setDate(l.getDate()-n*7);const u=`${String(l.getDate()).padStart(2,"0")}/${String(l.getMonth()+1).padStart(2,"0")}`;x.push(u)}d={labels:x,datasets:[{...a.datasets[0],data:m}]},console.log("Smart trim aplicado:",{projectAgeWeeks:s,originalLength:t.length,firstActivityIndex:h,startIndex:r,itemsToShow:o,trimmedLength:m.length})}else console.warn("Dados do gráfico não estão no formato esperado:",a);if(!(d?.datasets?.[0]?.data!==void 0))return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 flex flex-col h-80 hover:shadow-md transition-shadow relative overflow-visible hover:z-50",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-4 flex items-center gap-2",children:["Fluxo de Trabalho (Amostra: ",s," Semanas)",e.jsx(g,{text:"Frequência de commits ao longo do tempo",children:e.jsx("svg",{className:"w-4 h-4 text-gray-300 hover:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("div",{className:"flex-grow flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("p",{className:"text-sm",children:"Dados de fluxo indisponíveis no momento"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"GitHub está calculando as estatísticas"})]})})]});const p=d,f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,grid:{borderDash:[2,4]}},x:{grid:{display:!1}}}};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6 flex flex-col h-80 hover:shadow-md transition-shadow relative overflow-visible hover:z-50",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider mb-4 flex items-center gap-2",children:["Fluxo de Trabalho (Amostra: ",s," Semanas)",e.jsx(g,{text:"Frequência de commits ao longo do tempo",children:e.jsx("svg",{className:"w-4 h-4 text-gray-300 hover:text-gray-500 cursor-help",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("div",{className:"flex-grow relative",style:{height:"100%",minHeight:"200px"},children:e.jsx(v,{data:p,options:f})})]})}export{y as default};
