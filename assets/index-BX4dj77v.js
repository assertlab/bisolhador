import{C,r as a,j as m,L,B,D as x}from"./index-CAJ0B557.js";const E="label";function g(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function T(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function R(t,e){t.labels=e}function w(t,e,n=E){const c=[];t.datasets=e.map(s=>{const o=t.datasets.find(i=>i[n]===s[n]);return!o||!s.data||c.includes(o)?{...s}:(c.push(o),Object.assign(o,s),o)})}function v(t,e=E){const n={labels:[],datasets:[]};return R(n,t.labels),w(n,t.datasets,e),n}function O(t,e){const{height:n=150,width:c=300,redraw:s=!1,datasetIdKey:o,type:i,data:u,options:f,plugins:y=[],fallbackContent:j,updateMode:b,...D}=t,l=a.useRef(null),r=a.useRef(null),d=()=>{l.current&&(r.current=new C(l.current,{type:i,data:v(u,o),options:f&&{...f},plugins:y}),g(e,r.current))},p=()=>{g(e,null),r.current&&(r.current.destroy(),r.current=null)};return a.useEffect(()=>{!s&&r.current&&f&&T(r.current,f)},[s,f]),a.useEffect(()=>{!s&&r.current&&R(r.current.config.data,u.labels)},[s,u.labels]),a.useEffect(()=>{!s&&r.current&&u.datasets&&w(r.current.config.data,u.datasets,o)},[s,u.datasets]),a.useEffect(()=>{r.current&&(s?(p(),setTimeout(d)):r.current.update(b))},[s,f,u.labels,u.datasets,b]),a.useEffect(()=>{r.current&&(p(),setTimeout(d))},[i]),a.useEffect(()=>(d(),()=>p()),[]),m.jsx("canvas",{ref:l,role:"img",height:n,width:c,...D,children:j})}const k=a.forwardRef(O);function h(t,e){return C.register(e),a.forwardRef((n,c)=>m.jsx(k,{...n,ref:c,type:t}))}const K=h("line",L),M=h("bar",B),P=h("doughnut",x);export{M as B,P as D,K as L};
