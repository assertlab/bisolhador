import{r as n,j as r}from"./vendor-BhIAMjUZ.js";import{g as m}from"./charts-vendor-4nnNPMvG.js";import{u as y,a as k}from"./index-BfMBvcZT.js";import"./pdf-vendor-Dr0pjCBB.js";function T({repos:o,metricCategory:l="popularity"}){const{t:s}=y(),e=k();if(!o||o.length===0)return null;const i=o.map(a=>a.fullName),c={popularity:[{labelKey:"stats.stars",fallback:"Stars",accessor:a=>a.stars,alphaHex:"80"},{labelKey:"stats.forks",fallback:"Forks",accessor:a=>a.forks,alphaHex:"60"}],velocity:[{labelKey:"stats.openIssues",fallback:"Open Issues",accessor:a=>a.openIssues,alphaHex:"80"},{labelKey:"stats.closedIssues",fallback:"Closed Issues",accessor:a=>a.closedIssues,alphaHex:"60"}],quality:[{labelKey:"benchmark.leadTimeDays",fallback:"Lead Time (days)",accessor:a=>a.leadTime,alphaHex:"80"},{labelKey:"stats.codeChurn",fallback:"Code Churn",accessor:a=>a.codeChurnRatio,alphaHex:"60"}]},p={popularity:s("benchmark.categoryPopularity","Popularidade"),velocity:s("benchmark.categoryVelocity","Velocidade"),quality:s("benchmark.categoryQuality","Qualidade")},d=c[l]||c.popularity,b=n.useMemo(()=>({labels:i,datasets:d.map(a=>({label:s(a.labelKey,a.fallback),data:o.map(a.accessor),backgroundColor:o.map(t=>t.color+a.alphaHex),borderColor:o.map(t=>t.color),borderWidth:2}))}),[o,l,i,d,s]),u=n.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{color:e.textColor,padding:15,font:{size:12}}},tooltip:{backgroundColor:e.tooltipBg,titleColor:e.tooltipText,bodyColor:e.tooltipText,borderColor:e.gridColor,borderWidth:1,padding:12,callbacks:{label:a=>{const t=a.dataset.label||"",h=l==="quality"?a.parsed.y.toFixed(2):a.parsed.y.toLocaleString();return`${t}: ${h}`}}}},scales:{x:{ticks:{color:e.textColor,maxRotation:45,minRotation:45,font:{size:10}},grid:{display:!1}},y:{beginAtZero:!0,ticks:{color:e.textColor,callback:a=>l==="quality"?a.toFixed(1):a.toLocaleString()},grid:{color:e.gridColor}}}}),[e,l]);return r.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold text-shark dark:text-white mb-4",children:[s("benchmark.comparisonChart","Comparação de Métricas")," — ",p[l]]}),r.jsx("div",{style:{height:"400px"},children:r.jsx(m,{data:b,options:u})})]})}export{T as default};
