import{r as i,j as o}from"./vendor-BhIAMjUZ.js";import{g as h}from"./charts-vendor-4nnNPMvG.js";import{u as m,a as y,c as k}from"./index-CdK3gcMO.js";import"./pdf-vendor-Dr0pjCBB.js";const d={popularity:[{labelKey:"stats.stars",fallback:"Stars",accessor:a=>a.stars,alphaHex:"80"},{labelKey:"stats.forks",fallback:"Forks",accessor:a=>a.forks,alphaHex:"60"}],velocity:[{labelKey:"stats.openIssues",fallback:"Open Issues",accessor:a=>a.openIssues,alphaHex:"80"},{labelKey:"stats.closedIssues",fallback:"Closed Issues",accessor:a=>a.closedIssues,alphaHex:"60"}],quality:[{labelKey:"benchmark.leadTimeDays",fallback:"Lead Time (days)",accessor:a=>a.leadTime,alphaHex:"80"},{labelKey:"stats.codeChurn",fallback:"Code Churn",accessor:a=>a.codeChurnRatio,alphaHex:"60"}]};function H({repos:a,metricCategory:l="popularity"}){const{t:s}=m(),r=y(),c=d[l]||d.popularity,n={popularity:s("benchmark.categoryPopularity","Popularidade"),velocity:s("benchmark.categoryVelocity","Velocidade"),quality:s("benchmark.categoryQuality","Qualidade")},p=i.useMemo(()=>({labels:a?.map(e=>e.fullName)??[],datasets:c.map(e=>({label:s(e.labelKey,e.fallback),data:a?.map(e.accessor)??[],backgroundColor:a?.map(t=>t.color+e.alphaHex)??[],borderColor:a?.map(t=>t.color)??[],borderWidth:2}))}),[a,c,s]),u=i.useMemo(()=>k(r,{plugins:{legend:{display:!0,labels:{usePointStyle:!1}},tooltip:{callbacks:{label:e=>{const t=e.dataset.label||"",b=l==="quality"?e.parsed.y.toFixed(2):e.parsed.y.toLocaleString();return`${t}: ${b}`}}}},scales:{x:{ticks:{maxRotation:45,minRotation:45,font:{size:10}},grid:{display:!1}},y:{ticks:{callback:e=>l==="quality"?e.toFixed(1):e.toLocaleString()}}}}),[r,l]);return!a||a.length===0?null:o.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-sm p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-shark dark:text-white mb-4",children:[s("benchmark.comparisonChart","Comparação de Métricas")," — ",n[l]]}),o.jsx("div",{style:{height:"400px"},children:o.jsx(h,{data:p,options:u})})]})}export{H as default};
